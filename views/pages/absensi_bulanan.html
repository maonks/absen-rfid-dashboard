<style>
/* ====== ANIMATION ====== */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes pulseRed {
  0%,100% { box-shadow: 0 0 0 0 rgba(239,68,68,.6); }
  50%     { box-shadow: 0 0 0 6px rgba(239,68,68,0); }
}

.cell {
  animation: fadeUp .35s ease both;
}

.late {
  animation: fadeUp .35s ease both, pulseRed 2s infinite;
}

/* sticky */
.sticky-name {
  position: sticky;
  left: 0;
  background: #f8fafc;
  z-index: 10;
}
.sticky-header {
  position: sticky;
  top: 0;
  background: #f1f5f9;
  z-index: 20;
}
</style>

<!-- LEGEND + FILTER BAR -->
<div class="flex flex-col md:flex-row
            md:items-center md:justify-between
            gap-3 mb-3">

    <!-- ===== LEGEND (KIRI) ===== -->
    <div class="flex flex-wrap items-center gap-4 text-[11px]">

      <div class="flex items-center gap-1.5">
        <span class="w-3 h-3 rounded bg-green-500"></span>
        <span>Tepat Waktu</span>
      </div>

      <div class="flex items-center gap-1.5">
        <span class="w-3 h-3 rounded bg-red-500"></span>
        <span>Terlambat</span>
      </div>

      <div class="flex items-center gap-1.5">
        <span class="w-3 h-3 rounded bg-slate-300"></span>
        <span>Tidak Hadir</span>
      </div>

      <div class="flex items-center gap-1.5">
        <span class="w-3 h-3 rounded bg-blue-300"></span>
        <span>Ijin</span>
      </div>

      <div class="flex items-center gap-1.5">
        <span class="w-3 h-3 rounded bg-yellow-300"></span>
        <span>Sakit</span>
      </div>

      <button
        hx-get="/absensi/bulanan/table-edit?bulan={{ .SelectedMonth }}&tahun={{ .SelectedYear }}"
        hx-target="#absensi-bulanan"
        hx-swap="innerHTML"
        class="px-3 py-1 rounded bg-slate-700 text-white"
      >
        ‚úèÔ∏è Edit
      </button>

    </div>

      <!-- ===== FILTER (KANAN) ===== -->
    <form
      hx-get="/absensi/bulanan/table"
      hx-target="#absensi-bulanan"
      hx-swap="outerHTML"
      class="flex items-center gap-2 text-[11px]"
    >

      <!-- BULAN -->
      <select name="bulan" class="border rounded px-2 py-1 bg-white">
        {{ range .Months }}
          <option value="{{ .Value }}"
            {{ if eq .Value $.SelectedMonth }}selected{{ end }}>
            {{ .Label }}
          </option>
        {{ end }}
      </select>

      <!-- TAHUN -->
      <select name="tahun" class="border rounded px-2 py-1 bg-white">
        {{ range .Years }}
          <option value="{{ . }}"
            {{ if eq . $.SelectedYear }}selected{{ end }}>
            {{ . }}
          </option>
        {{ end }}
      </select>

      <button
        type="submit"
        class="px-3 py-1 rounded bg-slate-700 text-white hover:bg-slate-800">
        üîç Tampilkan
      </button>

    </form>

</div>


 <!-- ===== Tabel 30 Hari ===== -->
  <div
    id="absensi-bulanan"
    hx-get="/absensi/bulanan/table"
    hx-trigger="load"
    hx-swap="innerHTML">
    <!-- di isi oleh data bulanan/table -->
  </div>
</div>